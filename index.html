<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChaterLab Quick Replies</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-blue: #007aff;
      --primary-blue-hover: #005ecb;
      --light-blue-bg: #f0f7ff;
      --text-primary: #2c2c2e;
      --text-secondary: #636366;
      --background-main: #f8f8fa;
      --background-card: #ffffff;
      --border-color: #e5e5e9;
      --shadow-color: rgba(0, 122, 255, 0.1);
      --success-color: #34c759;
      --error-color: #ff3b30;
    }

    body {
      margin: 0;
      font-family: 'Inter', system-ui, sans-serif;
      background-color: var(--background-main);
      color: var(--text-primary);
      height: 100%;
    }
    
    .login-active {
      overflow: hidden;
      height: 100vh;
    }

    #app-container {
      display: none;  
      flex-direction: column;
      min-height: 100vh;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }

    #animation-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background-color: var(--background-main);
      display: none; justify-content: center; align-items: center; z-index: 3000;
    }
    .animation-content h1 {
      font-size: 48px; color: var(--primary-blue); letter-spacing: -1px; font-weight: 600; opacity: 0;
    }
    #animation-overlay.animate .animation-content h1 {
      animation: fadeInOut 2.5s ease-in-out forwards;
    }
    @keyframes fadeInOut {
      0% { opacity: 0; transform: scale(0.95); }
      20% { opacity: 1; transform: scale(1); }
      80% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.95); }
    }

    header {
      text-align: center;
      padding: 18px 20px;
      font-size: 24px;
      font-weight: 600;
      border-bottom: 1px solid var(--border-color);
      letter-spacing: -0.5px;
      background-color: var(--background-card);
    }
    main {
      display: flex;
      flex: 1;
      flex-wrap: wrap;
    }
    .sidebar {
      width: 320px;
      min-width: 280px;
      padding: 25px;
      border-right: 1px solid var(--border-color);
      background-color: var(--background-card);
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }
    .sidebar h2 {
      font-size: 16px;
      margin-bottom: 12px;
      font-weight: 600;
      margin-top: 25px;
      color: var(--text-secondary);
      padding-left: 5px;
    }
    .sidebar h2:first-of-type {
      margin-top: 0;
    }
    .sidebar-divider {
        border: 0;
        height: 1px;
        background-color: var(--border-color);
        margin: 25px 0;
    }
    .sidebar-footer {
        margin-top: auto;
    }
    .sidebar button {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      padding: 12px 14px;
      margin-bottom: 10px;
      background-color: var(--background-card);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      font-size: 15px;
      font-weight: 500;
      text-align: left;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .sidebar button:hover {
      border-color: var(--primary-blue);
      color: var(--primary-blue);
      background-color: var(--light-blue-bg);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px var(--shadow-color);
    }
    .sidebar button svg {
        width: 20px;
        height: 20px;
        flex-shrink: 0;
        stroke-width: 1.5;
        color: var(--text-secondary);
        transition: color 0.2s ease;
    }
    .sidebar button:hover svg {
        color: var(--primary-blue);
    }

    .info {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }
    .info h3 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 15px;
    }
    .info p {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 25px;
      color: var(--text-secondary);
    }
    .toggle { /* Segmented Control */
      display: inline-flex;
      background-color: #ebebef;
      border-radius: 9px;
      padding: 4px;
      margin-bottom: 25px;
    }
    .toggle button {
      padding: 6px 16px;
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      border-radius: 7px;
      margin: 0;
      color: var(--text-secondary);
      transition: all 0.25s ease;
    }
    .toggle button.active {
      background: var(--background-card);
      color: var(--text-primary);
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }
    .instructions {
      margin-top: 40px;
    }
    .step {
      background: var(--background-card);
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
    }
    .step h4 {
      margin: 0 0 15px;
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .step-number {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        background-color: var(--light-blue-bg);
        color: var(--primary-blue);
        border-radius: 50%;
        font-size: 14px;
        font-weight: 600;
        flex-shrink: 0;
    }
    .step ul, .step ol {
      padding-left: 20px;
      margin: 10px 0;
      color: var(--text-secondary);
      line-height: 1.7;
    }
    .step ul li::marker, .step ol li::marker {
        font-weight: 500;
    }
    code {
        background-color: var(--light-blue-bg);
        color: var(--primary-blue-hover);
        padding: 3px 6px;
        border-radius: 6px;
        font-size: 0.9em;
        font-family: 'SF Mono', 'Menlo', monospace;
    }
    
    .table-container {
      overflow-x: auto;
    }
    .instructions table {
      width: 100%; border-collapse: collapse; margin-top: 15px; min-width: 600px; display: table;
    }
    .instructions table th, .instructions table td {
      border: 1px solid var(--border-color); padding: 10px 12px; font-size: 14px;
    }
    .instructions table th {
      background: var(--light-blue-bg); text-align: left; font-weight: 500;
    }
    .instructions .responsive-card-list { display: none; }

    .mobile-switcher {
      display: none; background-color: var(--background-card);
      border-bottom: 1px solid var(--border-color);
      padding: 0 10px; text-align: center;
    }
    .mobile-switcher-inner {
        display: flex;
    }
    .mobile-switcher button {
      flex: 1; padding: 14px 0; border: none;
      border-bottom: 3px solid transparent;
      background-color: transparent; font-size: 15px;
      cursor: pointer; font-weight: 600; color: var(--text-secondary);
      transition: all 0.25s ease;
    }
    .mobile-switcher button.active {
      color: var(--primary-blue);
      border-bottom-color: var(--primary-blue);
    }
    
    .toast-notification {
      position: fixed; bottom: 20px; left: 50%;
      transform: translateX(-50%);
      background-color: var(--success-color);
      color: white; padding: 12px 20px;
      border-radius: 10px; opacity: 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      transition: all 0.3s ease-in-out;
      z-index: 1000; font-size: 15px; font-weight: 500;
      pointer-events: none; white-space: nowrap;
    }
    .toast-notification.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }

    #login-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background-color: var(--background-main); display: flex;
      justify-content: center; align-items: center; z-index: 2000;
    }
    .login-form-container {
      background: var(--background-card); padding: 40px;
      border-radius: 16px; box-shadow: 0 8px 30px rgba(0,0,0,0.08);
      width: 340px; max-width: 90%; text-align: center;
      transition: opacity 0.4s ease-out;
    }
    .login-form-container h1 {
      font-size: 28px;
      font-weight: 600;
      color: var(--primary-blue);
      margin-top: 0;
      margin-bottom: 8px;
    }
    .login-form-container p {
      margin-top: 0;
      margin-bottom: 30px;
      color: var(--text-secondary);
    }
    .login-form-container input {
      width: 100%; padding: 14px; margin-bottom: 15px;
      border: 1px solid var(--border-color);
      border-radius: 10px; box-sizing: border-box; font-size: 16px;
      transition: all 0.2s ease;
    }
    .login-form-container input:focus {
        border-color: var(--primary-blue);
        box-shadow: 0 0 0 3px var(--shadow-color);
        outline: none;
    }
    .login-form-container button {
      width: 100%; padding: 14px; background-color: var(--primary-blue);
      color: #fff; border: none; border-radius: 10px; font-size: 16px;
      font-weight: 500; cursor: pointer; transition: background 0.2s;
    }
    .login-form-container button:hover {
      background-color: var(--primary-blue-hover);
    }
    #login-error {
      color: #fff; background-color: var(--error-color);
      padding: 12px; border-radius: 8px; margin-top: 20px;
      font-size: 14px; font-weight: 500; opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
    }
    #login-error.show { opacity: 1; transform: translateY(0); pointer-events: auto; }

    @media (max-width: 768px) {
      header { font-size: 20px; padding: 15px; }
      main { flex-direction: column; }
      .mobile-switcher { display: block; }
      .sidebar {
        width: 100%; min-width: unset; padding: 15px;
        border-right: none; border-bottom: 1px solid var(--border-color);
      }
      .info { padding: 20px 15px; display: none; }
      .instructions table { display: none; }
      .instructions .responsive-card-list {
          display: block; width: 100%; margin-top: 15px;
      }
      .data-card {
        background-color: var(--background-card); border: 1px solid var(--border-color);
        border-radius: 12px; padding: 15px; margin-bottom: 15px;
      }
      .data-item { font-size: 15px; line-height: 1.5; }
      .data-item:not(:last-child) {
        margin-bottom: 12px; padding-bottom: 12px;
        border-bottom: 1px solid #f0f0f2;
      }
      .data-item strong {
        color: var(--text-primary); display: block;
        margin-bottom: 5px; font-weight: 500;
      }
      .data-item span { color: var(--text-secondary); }
    }
  </style>
</head>
<body>

  <div id="animation-overlay">
    <div class="animation-content"><h1>ChaterLab</h1></div>
  </div>

  <div id="login-screen">
      <div class="login-form-container">
          <h1>ChaterLab</h1>
          <p>Панель быстрых ответов</p>
          <form id="login-form">
              <input type="text" id="login-username" placeholder="Логин (admin)" required>
              <input type="password" id="login-password" placeholder="Пароль (admin)" required>
              <button type="submit">Войти</button>
              <div id="login-error"></div>
          </form>
      </div>
  </div>

  <div id="app-container">
    <header>ChaterLab Quick Replies</header>
    
    <div class="mobile-switcher" id="mobileSwitcher">
        <div class="mobile-switcher-inner">
            <button id="switchButtons" class="active" onclick="toggleMobileView('buttons')">Ответы</button>
            <button id="switchInstructions" onclick="toggleMobileView('instructions')">Инструкция</button>
        </div>
    </div>

    <main>
      <div class="sidebar" id="sidebarBlock">
        <div>
            <h2>English</h2>
            <button onclick="copyGreetingENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Greeting (ENG)</button>
            <button onclick="copyJobENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Job Description (ENG)</button>
            <button onclick="copyFlirtENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Flirt Closing (ENG)</button>
            <button onclick="copyContactENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Contact (ENG)</button>

            <h2>Русский</h2>
            <button onclick="copyGreetingRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Приветствие (RU)</button>
            <button onclick="copyJobRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Описание вакансии (RU)</button>
            <button onclick="copyJobPrimeRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Описание вакансии. Прайм (RU)</button>
            <button onclick="copyFlirtRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Флирт-задание (RU)</button>
            <button onclick="copyContactRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg>Контакт (RU)</button>
        </div>
        
        <div class="sidebar-footer">
            <hr class="sidebar-divider">
            <button onclick="logout()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><path d="M16 17l5-5-5-5"/><path d="M21 12H9"/></svg>Выйти</button>
        </div>
      </div>

      <div class="info" id="infoBlock">
        <div class="toggle">
          <button id="btnENG" class="active" onclick="setLanguage('ENG')">ENG</button>
          <button id="btnRU" onclick="setLanguage('RU')">RU</button>
        </div>
        <h3 id="infoHeader">About this tool</h3>
        <p id="infoText">This panel allows you to quickly copy professional greetings, job descriptions, and test assignment instructions for ChaterLab. Each click will copy the text to your clipboard and cycle through alternative versions to avoid spam bans.</p>
        <div class="instructions" id="instructions"></div>
      </div>
    </main>
  </div>
  <div id="toast" class="toast-notification"></div>

  <script>
    const USER_CREDENTIALS = { username: 'admin', password: 'admin' };

    function checkLogin() {
        const loginScreen = document.getElementById('login-screen');
        const appContainer = document.getElementById('app-container');
        const body = document.body;
        if (localStorage.getItem('isLoggedIn') === 'true') {
            loginScreen.style.display = 'none';
            appContainer.style.display = 'flex';
            setTimeout(() => appContainer.style.opacity = '1', 50); 
            body.classList.remove('login-active');
            return true;
        } else {
            loginScreen.style.display = 'flex';
            appContainer.style.display = 'none';
            appContainer.style.opacity = '0';
            body.classList.add('login-active');
            return false;
        }
    }

    function handleLogin(event) {
        event.preventDefault();
        const usernameInput = document.getElementById('login-username');
        const passwordInput = document.getElementById('login-password');
        const errorDiv = document.getElementById('login-error');

        if (usernameInput.value === USER_CREDENTIALS.username && passwordInput.value === USER_CREDENTIALS.password) {
            localStorage.setItem('isLoggedIn', 'true');
            errorDiv.classList.remove('show');
            
            const loginFormContainer = document.querySelector('.login-form-container');
            const animationOverlay = document.getElementById('animation-overlay');
            loginFormContainer.style.opacity = '0';
            
            setTimeout(() => {
                animationOverlay.style.display = 'flex';
                animationOverlay.classList.add('animate');
                setTimeout(() => {
                    checkLogin();
                    animationOverlay.style.display = 'none';
                    setLanguage('RU'); // Default to RU
                    toggleMobileView('buttons');
                    loginFormContainer.style.opacity = '1';
                }, 2500);
            }, 400);
        } else {
            errorDiv.textContent = 'Неверные данные. Свяжитесь с менеджером.';
            errorDiv.classList.add('show');
            setTimeout(() => { errorDiv.classList.remove('show'); }, 4000);
        }
    }

    function logout() {
        localStorage.removeItem('isLoggedIn');
        checkLogin();
        const mobileSwitcher = document.getElementById('mobileSwitcher');
        if (mobileSwitcher) mobileSwitcher.style.display = 'none';
    }

    // --- TEXT DATA ---
    const greetingsENG = [ "Good day! We are ChaterLab...", "Hello! This is ChaterLab..." ];
    let indexGreetingENG = 0;
    const jobDescriptionsENG = [ `Job Description:\n📌 Task:...`, `Vacancy: Chat Operator...` ];
    let indexJobENG = 0;
    const flirtClosingsENG = [ "Please create 10 unique phrases...", "As a test, please write 10 creative lines..." ];
    let indexFlirtENG = 0;
    const contactsENG = [ "Thank you for completing the test...", "Great job on the test!..." ];
    let indexContactENG = 0;
    const greetingsRU = [ "Добрый день! Мы компания ChaterLab...", "Здравствуйте! Это ChaterLab..." ];
    let indexGreetingRU = 0;
    const jobDescriptionsRU = [ `Описание вакансии:\n📌 Задача:...`, `Вакансия: Оператор чата...` ];
    let indexJobRU = 0;
    const jobDescriptionsPrimeRU = [ `Описание вакансии (Прайм):\n📌 Задача:...`, `Вакансия для опытных операторов (Прайм)...` ];
    let indexJobPrimeRU = 0;
    const flirtClosingsRU = [ "Пожалуйста, составьте 10 уникальных фраз...", "В качестве теста, напишите 10 креативных фраз..." ];
    let indexFlirtRU = 0;
    const contactsRU = [ "Благодарим за выполненное тестовое...", "Отличная работа! Следующий шаг — связаться..." ];
    let indexContactRU = 0;

    
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.classList.add('show');
        if (navigator.vibrate) { navigator.vibrate(50); }
        setTimeout(() => { toast.classList.remove('show'); }, 2000);
    }

    function fallbackCopyTextToClipboard(text) {
      const textArea = document.createElement("textarea");
      textArea.value = text;
      textArea.style.position = "fixed"; textArea.style.opacity = "0";
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        const successful = document.execCommand('copy');
        document.body.removeChild(textArea);
        return successful;
      } catch (err) {
        console.error('Fallback copy failed', err);
        document.body.removeChild(textArea);
        return false;
      }
    }

    function copyAndCycle(array, index, buttonName) {
        const textToCopy = array[index];
        const langSuffix = currentLang === 'ENG' ? 'Copied' : 'Скопировано';
        const successMessage = `${langSuffix} (вариант ${index + 1}/${array.length})`;
        
        const copyFn = navigator.clipboard ? navigator.clipboard.writeText(textToCopy) : Promise.resolve(fallbackCopyTextToClipboard(textToCopy));

        copyFn.then(success => {
            if (success !== false) {
                showToast(successMessage);
            } else {
                showToast('Ошибка копирования');
            }
        }).catch(() => {
            if (fallbackCopyTextToClipboard(textToCopy)) {
                showToast(successMessage);
            } else {
                showToast('Ошибка копирования');
            }
        });
        
        return (index + 1) % array.length;
    }

    function copyGreetingENG() { indexGreetingENG = copyAndCycle(greetingsENG, indexGreetingENG); }
    function copyJobENG() { indexJobENG = copyAndCycle(jobDescriptionsENG, indexJobENG); }
    function copyFlirtENG() { indexFlirtENG = copyAndCycle(flirtClosingsENG, indexFlirtENG); }
    function copyContactENG() { indexContactENG = copyAndCycle(contactsENG, indexContactENG); }
    function copyGreetingRU() { indexGreetingRU = copyAndCycle(greetingsRU, indexGreetingRU); }
    function copyJobRU() { indexJobRU = copyAndCycle(jobDescriptionsRU, indexJobRU); }
    function copyJobPrimeRU() { indexJobPrimeRU = copyAndCycle(jobDescriptionsPrimeRU, indexJobPrimeRU); }
    function copyFlirtRU() { indexFlirtRU = copyAndCycle(flirtClosingsRU, indexFlirtRU); }
    function copyContactRU() { indexContactRU = copyAndCycle(contactsRU, indexContactRU); }

    function createResponsiveTable(headers, data) {
        let html = '<div class="table-container"><table><thead><tr>';
        headers.forEach(header => { html += `<th>${header}</th>`; });
        html += '</tr></thead><tbody>';
        data.forEach(row => {
            html += '<tr>';
            row.forEach(cell => { html += `<td>${cell}</td>`; });
            html += '</tr>';
        });
        html += '</tbody></table><div class="responsive-card-list">';
        data.forEach(row => {
            html += '<div class="data-card">';
            row.forEach((cell, index) => {
                html += `<div class="data-item"><strong>${headers[index]}</strong><span>${cell}</span></div>`;
            });
            html += '</div>';
        });
        html += '</div></div>';
        return html;
    }

    let currentLang = 'RU';
    function setLanguage(lang){
      currentLang = lang;
      const instructionsDiv = document.getElementById('instructions');
      document.getElementById('btnENG').classList.toggle('active', lang === 'ENG');
      document.getElementById('btnRU').classList.toggle('active', lang === 'RU');

      if(lang === 'ENG'){
        document.getElementById('infoHeader').textContent = "About this tool";
        document.getElementById('infoText').textContent = "This panel allows you to quickly copy professional greetings, job descriptions, test assignments, and contacts for ChaterLab.";
        const jobDescHeaders = ["Location", "Experience", "Schedule", "Button"];
        const jobDescData = [
            ["Kazakhstan", "Basic / No experience", "08:00–16:00, 16:00–00:00, 00:00–08:00", "Job Description (ENG)"],
            ["Kazakhstan", "Prime experience", "14:00–22:00, 22:00–06:00", "Job Description. Prime (ENG)"]
        ];
        const contactHeaders = ["Location", "Contacts"];
        const contactData = [
            ["Philippines", "Telegram: @strighik / WhatsApp: +380990650264<br>Telegram: @jszmn1827 / WhatsApp: +639260025915"],
            ["Kazakhstan (Prime)", "Telegram: @kruzhkov"]
        ];
        instructionsDiv.innerHTML = `
          <h3>📖 Instructions</h3>
          <div class="step"><h4><span class="step-number">1</span>Candidate Greeting</h4><ul><li>Russian audience → <b>Приветствие (RU)</b></li><li>English audience → <b>Greeting (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">2</span>Job Description</h4>${createResponsiveTable(jobDescHeaders, jobDescData)}</div>
          <div class="step"><h4><span class="step-number">3</span>Test Assignment</h4><ul><li>Russian audience → <b>Флирт-задание (RU)</b></li><li>English audience → <b>Flirt Closing (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">4</span>Application Handling</h4><ol><li>Log all applications in the <code>LEADS</code> sheet.</li><li>After test completion, provide manager's contact.</li><li>Documentation in Google Sheets (Tab: <code>Interns</code>)</li></ol></div>
          <div class="step"><h4><span class="step-number">5</span>Manager Contacts</h4>${createResponsiveTable(contactHeaders, contactData)}</div>`;
      } else {
        document.getElementById('infoHeader').textContent = "Об этой панели";
        document.getElementById('infoText').textContent = "Эта панель позволяет быстро копировать профессиональные приветствия, описания вакансий, тестовые задания и контакты для ChaterLab.";
        const jobDescHeaders = ["Локация", "Опыт", "График", "Кнопка"];
        const jobDescData = [
            ["Казахстан", "Без опыта / базовый", "08:00–16:00, 16:00–00:00, 00:00–08:00", "Описание вакансии (RU)"],
            ["Казахстан", "Опыт Прайма", "14:00–22:00, 22:00–06:00", "Описание вакансии. Прайм (RU)"]
        ];
        const contactHeaders = ["Локация", "Контакты"];
        const contactData = [
            ["Филиппины", "Telegram: @strighik / WhatsApp: +380990650264<br>Telegram: @jszmn1827 / WhatsApp: +639260025915"],
            ["Казахстан (опыт Прайма)", "Telegram: @kruzhkov"]
        ];
        instructionsDiv.innerHTML = `
          <h3>📖 Инструкция для работы</h3>
          <div class="step"><h4><span class="step-number">1</span>Приветствие кандидата</h4><ul><li>Русскоязычная аудитория → <b>Приветствие (RU)</b></li><li>Англоязычная аудитория → <b>Greeting (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">2</span>Описание вакансии</h4>${createResponsiveTable(jobDescHeaders, jobDescData)}</div>
          <div class="step"><h4><span class="step-number">3</span>Тестовое задание</h4><ul><li>Русскоязычная аудитория → <b>Флирт-задание (RU)</b></li><li>Англоязычная аудитория → <b>Flirt Closing (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">4</span>Работа с заявками</h4><ol><li>Все заявки фиксируются в таблице <code>ЛИДЫ</code>.</li><li>После выполнения теста и выбора графика → выдаём контакт менеджера.</li><li>Документация в Google Sheets (Вкладка: <code>Стажёры</code>)</li><li>Статус → <code>«передан админу»</code></li></ol></div>
          <div class="step"><h4><span class="step-number">5</span>Контакты менеджеров</h4>${createResponsiveTable(contactHeaders, contactData)}</div>`;
      }
    }
    
    function toggleMobileView(view) {
        const sidebar = document.getElementById('sidebarBlock');
        const info = document.getElementById('infoBlock');
        const btnButtons = document.getElementById('switchButtons');
        const btnInstructions = document.getElementById('switchInstructions');
        
        if (!window.matchMedia("(max-width: 768px)").matches) {
            sidebar.style.display = 'flex'; info.style.display = 'block'; return;
        }

        const isButtonsView = view === 'buttons';
        sidebar.style.display = isButtonsView ? 'flex' : 'none';
        info.style.display = isButtonsView ? 'none' : 'block';
        btnButtons.classList.toggle('active', isButtonsView);
        btnInstructions.classList.toggle('active', !isButtonsView);
    }

    document.addEventListener('DOMContentLoaded', () => {
        const loggedIn = checkLogin();
        document.getElementById('login-form').addEventListener('submit', handleLogin);
        if (loggedIn) {
            setLanguage('RU');
            toggleMobileView('buttons');
        }
    });

    window.addEventListener('resize', () => {
        if (!window.matchMedia("(max-width: 768px)").matches) {
            document.getElementById('sidebarBlock').style.display = 'flex';
            document.getElementById('infoBlock').style.display = 'block';
        }
    });
  </script>
</body>
</html>
