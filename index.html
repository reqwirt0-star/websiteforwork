<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChaterLab Quick Replies</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-blue: #007aff;
      --primary-blue-hover: #005ecb;
      --light-blue-bg: #f0f7ff;
      --text-primary: #2c2c2e;
      --text-secondary: #636366;
      --background-main: #f8f8fa;
      --background-card: #ffffff;
      --border-color: #e5e5e9;
      --shadow-color: rgba(0, 122, 255, 0.1);
      --success-color: #34c759;
      --error-color: #ff3b30;
    }

    body {
      margin: 0;
      font-family: 'Inter', system-ui, sans-serif;
      background-color: var(--background-main);
      color: var(--text-primary);
      height: 100%;
    }
    
    .login-active {
      overflow: hidden;
      height: 100vh;
    }

    #app-container {
      display: none;  
      flex-direction: column;
      min-height: 100vh;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }

    #animation-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background-color: var(--background-main);
      display: none; justify-content: center; align-items: center; z-index: 3000;
    }
    .animation-content h1 {
      font-size: 48px; color: var(--primary-blue); letter-spacing: -1px; font-weight: 600; opacity: 0;
    }
    #animation-overlay.animate .animation-content h1 {
      animation: fadeInOut 2.5s ease-in-out forwards;
    }
    @keyframes fadeInOut {
      0% { opacity: 0; transform: scale(0.95); }
      20% { opacity: 1; transform: scale(1); }
      80% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.95); }
    }

    header {
      text-align: center;
      padding: 18px 20px;
      font-size: 24px;
      font-weight: 600;
      border-bottom: 1px solid var(--border-color);
      letter-spacing: -0.5px;
      background-color: var(--background-card);
    }
    main {
      display: flex;
      flex: 1;
      flex-wrap: wrap;
    }
    .sidebar {
      width: 320px;
      min-width: 280px;
      padding: 25px;
      border-right: 1px solid var(--border-color);
      background-color: var(--background-card);
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }
    .sidebar h2 {
      font-size: 16px;
      margin-bottom: 12px;
      font-weight: 600;
      margin-top: 25px;
      color: var(--text-secondary);
      padding-left: 5px;
    }
    .sidebar h2:first-of-type {
      margin-top: 0;
    }
    .sidebar-divider {
        border: 0;
        height: 1px;
        background-color: var(--border-color);
        margin: 25px 0;
    }
    .sidebar-footer {
        margin-top: auto;
    }
    .sidebar button {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      padding: 12px 14px;
      margin-bottom: 10px;
      background-color: var(--background-card);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      font-size: 15px;
      font-weight: 500;
      text-align: left;
      color: var(--text-primary);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .sidebar button:hover {
      border-color: var(--primary-blue);
      color: var(--primary-blue);
      background-color: var(--light-blue-bg);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px var(--shadow-color);
    }
    .sidebar button svg {
        width: 20px;
        height: 20px;
        flex-shrink: 0;
        stroke-width: 1.5;
        color: var(--text-secondary);
        transition: color 0.2s ease;
    }
    .sidebar button:hover svg {
        color: var(--primary-blue);
    }
    .sidebar button .lang-marker {
        margin-left: auto;
        font-size: 12px;
        font-weight: 600;
        color: var(--text-secondary);
        background-color: #f0f0f2;
        padding: 2px 6px;
        border-radius: 5px;
    }

    .info {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }
    .info h3 {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 15px;
    }
    .info p {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 25px;
      color: var(--text-secondary);
    }
    .toggle {
      display: inline-flex;
      background-color: #ebebef;
      border-radius: 9px;
      padding: 4px;
      margin-bottom: 25px;
    }
    .toggle button {
      padding: 6px 16px;
      border: none;
      background: transparent;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      border-radius: 7px;
      margin: 0;
      color: var(--text-secondary);
      transition: all 0.25s ease;
    }
    .toggle button.active {
      background: var(--background-card);
      color: var(--text-primary);
      box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }
    .instructions {
      margin-top: 40px;
    }
    .step {
      background: var(--background-card);
      border-radius: 12px;
      padding: 25px;
      margin-bottom: 20px;
      border: 1px solid var(--border-color);
    }
    .step h4 {
      margin: 0 0 15px;
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .step-number {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        background-color: var(--light-blue-bg);
        color: var(--primary-blue);
        border-radius: 50%;
        font-size: 14px;
        font-weight: 600;
        flex-shrink: 0;
    }
    .step ul, .step ol {
      padding-left: 20px;
      margin: 10px 0;
      color: var(--text-secondary);
      line-height: 1.7;
    }
    .step ul li::marker, .step ol li::marker {
        font-weight: 500;
    }
    code {
        background-color: var(--light-blue-bg);
        color: var(--primary-blue-hover);
        padding: 3px 6px;
        border-radius: 6px;
        font-size: 0.9em;
        font-family: 'SF Mono', 'Menlo', monospace;
    }
    
    .table-container {
      overflow-x: auto;
    }
    .instructions table {
      width: 100%; border-collapse: collapse; margin-top: 15px; min-width: 600px; display: table;
    }
    .instructions table th, .instructions table td {
      border: 1px solid var(--border-color); padding: 10px 12px; font-size: 14px;
    }
    .instructions table th {
      background: var(--light-blue-bg); text-align: left; font-weight: 500;
    }
    .instructions .responsive-card-list { display: none; }

    .mobile-switcher {
      display: none; background-color: var(--background-card);
      border-bottom: 1px solid var(--border-color);
      padding: 0 10px; text-align: center;
    }
    .mobile-switcher-inner {
        display: flex;
    }
    .mobile-switcher button {
      flex: 1; padding: 14px 0; border: none;
      border-bottom: 3px solid transparent;
      background-color: transparent; font-size: 15px;
      cursor: pointer; font-weight: 600; color: var(--text-secondary);
      transition: all 0.25s ease;
    }
    .mobile-switcher button.active {
      color: var(--primary-blue);
      border-bottom-color: var(--primary-blue);
    }
    
    .toast-notification {
      position: fixed; bottom: 20px; left: 50%;
      transform: translateX(-50%);
      background-color: var(--success-color);
      color: white; padding: 12px 20px;
      border-radius: 10px; opacity: 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      transition: all 0.3s ease-in-out;
      z-index: 1000; font-size: 15px; font-weight: 500;
      pointer-events: none; white-space: nowrap;
    }
    .toast-notification.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }

    #login-screen {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background-color: var(--background-main); display: flex;
      justify-content: center; align-items: center; z-index: 2000;
    }
    .login-form-container {
      background: var(--background-card); padding: 40px;
      border-radius: 16px; box-shadow: 0 8px 30px rgba(0,0,0,0.08);
      width: 340px; max-width: 90%; text-align: center;
      transition: opacity 0.4s ease-out;
    }
    .login-form-container h1 {
      font-size: 28px;
      font-weight: 600;
      color: var(--primary-blue);
      margin-top: 0;
      margin-bottom: 8px;
    }
    .login-form-container p {
      margin-top: 0;
      margin-bottom: 25px;
      color: var(--text-secondary);
    }
    .login-lang-switcher {
        display: flex;
        justify-content: center;
        margin-bottom: 25px;
        background-color: #f0f0f2;
        border-radius: 10px;
        padding: 4px;
    }
    .login-lang-switcher button {
        flex: 1;
        padding: 8px;
        border: none;
        background-color: transparent;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.25s ease;
    }
    .login-lang-switcher button.active {
        background-color: var(--background-card);
        color: var(--primary-blue);
        box-shadow: 0 2px 5px rgba(0,0,0,0.08);
    }
    .login-form-container input {
      width: 100%; padding: 14px; margin-bottom: 15px;
      border: 1px solid var(--border-color);
      border-radius: 10px; box-sizing: border-box; font-size: 16px;
      transition: all 0.2s ease;
    }
    .login-form-container input:focus {
        border-color: var(--primary-blue);
        box-shadow: 0 0 0 3px var(--shadow-color);
        outline: none;
    }
    .login-form-container button[type="submit"] {
      width: 100%; padding: 14px; background-color: var(--primary-blue);
      color: #fff; border: none; border-radius: 10px; font-size: 16px;
      font-weight: 500; cursor: pointer; transition: background 0.2s;
    }
    .login-form-container button[type="submit"]:hover {
      background-color: var(--primary-blue-hover);
    }
    #login-error {
      color: #fff; background-color: var(--error-color);
      padding: 12px; border-radius: 8px; margin-top: 20px;
      font-size: 14px; font-weight: 500; opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: none;
    }
    #login-error.show { opacity: 1; transform: translateY(0); pointer-events: auto; }

    @media (max-width: 768px) {
      header { font-size: 20px; padding: 15px; }
      main { flex-direction: column; }
      .mobile-switcher { display: block; }
      .sidebar {
        width: 100%; min-width: unset; padding: 15px;
        border-right: none; border-bottom: 1px solid var(--border-color);
      }
      .info { padding: 20px 15px; }
      .instructions table { display: none; }
      .instructions .responsive-card-list {
          display: block; width: 100%; margin-top: 15px;
      }
      .data-card {
        background-color: var(--background-card); border: 1px solid var(--border-color);
        border-radius: 12px; padding: 15px; margin-bottom: 15px;
      }
      .data-item { font-size: 15px; line-height: 1.5; }
      .data-item:not(:last-child) {
        margin-bottom: 12px; padding-bottom: 12px;
        border-bottom: 1px solid #f0f0f2;
      }
      .data-item strong {
        color: var(--text-primary); display: block;
        margin-bottom: 5px; font-weight: 500;
      }
      .data-item span { color: var(--text-secondary); }
    }
  </style>
</head>
<body>

  <div id="animation-overlay">
    <div class="animation-content"><h1>ChaterLab</h1></div>
  </div>

  <div id="login-screen">
      <div class="login-form-container">
          <h1 data-key="loginHeader">ChaterLab</h1>
          <p data-key="loginSubheader">–ü–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</p>
          <div class="login-lang-switcher">
            <button id="login-lang-ru" onclick="switchLanguage('ru')">RU</button>
            <button id="login-lang-uk" onclick="switchLanguage('uk')">UA</button>
            <button id="login-lang-en" onclick="switchLanguage('en')">ENG</button>
          </div>
          <form id="login-form">
              <input type="text" id="login-username" data-key="loginPlaceholder" placeholder="–õ–æ–≥–∏–Ω (admin)" required>
              <input type="password" id="login-password" data-key="passwordPlaceholder" placeholder="–ü–∞—Ä–æ–ª—å (admin)" required>
              <button type="submit" data-key="loginButton">–í–æ–π—Ç–∏</button>
              <div id="login-error"></div>
          </form>
      </div>
  </div>

  <div id="app-container">
    <header data-key="appHeader">ChaterLab Quick Replies</header>
    
    <div class="mobile-switcher" id="mobileSwitcher">
        <div class="mobile-switcher-inner">
            <button id="switchButtons" class="active" onclick="toggleMobileView('buttons')" data-key="repliesTab">–û—Ç–≤–µ—Ç—ã</button>
            <button id="switchInstructions" onclick="toggleMobileView('instructions')" data-key="instructionsTab">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</button>
        </div>
    </div>

    <main>
      <div class="sidebar" id="sidebarBlock">
        <div>
            <h2 data-key="englishSection">English</h2>
            <button onclick="copyGreetingENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="greetingButtonLabel"></span> <span class="lang-marker">ENG</span></button>
            <button onclick="copyJobENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="jobDescButtonLabel"></span> <span class="lang-marker">ENG</span></button>
            <button onclick="copyFlirtENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="flirtButtonLabel"></span> <span class="lang-marker">ENG</span></button>
            <button onclick="copyContactENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="contactButtonLabel"></span> <span class="lang-marker">ENG</span></button>

            <h2 data-key="russianSection">–†—É—Å—Å–∫–∏–π</h2>
            <button onclick="copyGreetingRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="greetingButtonLabel"></span> <span class="lang-marker">RU</span></button>
            <button onclick="copyJobRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="jobDescButtonLabel"></span> <span class="lang-marker">RU</span></button>
            <button onclick="copyJobPrimeRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="jobPrimeButtonLabel"></span> <span class="lang-marker">RU</span></button>
            <button onclick="copyFlirtRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="flirtButtonLabel"></span> <span class="lang-marker">RU</span></button>
            <button onclick="copyContactRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="contactButtonLabel"></span> <span class="lang-marker">RU</span></button>
        </div>
        
        <div class="sidebar-footer">
            <hr class="sidebar-divider">
            <button onclick="logout()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><path d="M16 17l5-5-5-5"/><path d="M21 12H9"/></svg><span data-key="logoutButtonText">–í—ã–π—Ç–∏</span></button>
        </div>
      </div>

      <div class="info" id="infoBlock">
        <div class="toggle">
          <button id="btnEN" onclick="switchLanguage('en')">EN</button>
          <button id="btnUA" onclick="switchLanguage('uk')">UA</button>
          <button id="btnRU" onclick="switchLanguage('ru')">RU</button>
        </div>
        <h3 id="infoHeader" data-key="aboutHeader"></h3>
        <p id="infoText" data-key="aboutText"></p>
        <div class="instructions" id="instructions"></div>
      </div>
    </main>
  </div>
  <div id="toast" class="toast-notification"></div>

  <script>
    const USER_CREDENTIALS = { username: 'admin', password: 'admin' };

    // --- DICTIONARIES ---
    const translations = {
        en: {
            loginHeader: "ChaterLab",
            loginSubheader: "Quick Replies Panel",
            loginPlaceholder: "Login (admin)",
            passwordPlaceholder: "Password (admin)",
            loginButton: "Log In",
            appHeader: "ChaterLab Quick Replies",
            repliesTab: "Replies",
            instructionsTab: "Instructions",
            englishSection: "English Content",
            russianSection: "Russian Content",
            logoutButtonText: "Log Out",
            aboutHeader: "About this tool",
            aboutText: "This panel allows you to quickly copy professional greetings, job descriptions, test assignments, and contacts for ChaterLab.",
            instructionHeader: "üìñ Instructions",
            errorInvalid: "Invalid credentials. Please contact your manager.",
            toastMessage: "Copied",
            greetingButtonLabel: "Greeting",
            jobDescButtonLabel: "Job Description",
            jobPrimeButtonLabel: "Job Description (Prime)",
            flirtButtonLabel: "Flirt Task",
            contactButtonLabel: "Contact",
        },
        ru: {
            loginHeader: "ChaterLab",
            loginSubheader: "–ü–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤",
            loginPlaceholder: "–õ–æ–≥–∏–Ω (admin)",
            passwordPlaceholder: "–ü–∞—Ä–æ–ª—å (admin)",
            loginButton: "–í–æ–π—Ç–∏",
            appHeader: "ChaterLab Quick Replies",
            repliesTab: "–û—Ç–≤–µ—Ç—ã",
            instructionsTab: "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è",
            englishSection: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç",
            russianSection: "–†—É—Å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç",
            logoutButtonText: "–í—ã–π—Ç–∏",
            aboutHeader: "–û –ø–∞–Ω–µ–ª–∏",
            aboutText: "–≠—Ç–∞ –ø–∞–Ω–µ–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏, —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è ChaterLab.",
            instructionHeader: "üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã",
            errorInvalid: "–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º.",
            toastMessage: "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ",
            greetingButtonLabel: "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ",
            jobDescButtonLabel: "–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏",
            jobPrimeButtonLabel: "–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (–ü—Ä–∞–π–º)",
            flirtButtonLabel: "–§–ª–∏—Ä—Ç-–∑–∞–¥–∞–Ω–∏–µ",
            contactButtonLabel: "–ö–æ–Ω—Ç–∞–∫—Ç",
        },
        uk: {
            loginHeader: "ChaterLab",
            loginSubheader: "–ü–∞–Ω–µ–ª—å —à–≤–∏–¥–∫–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π",
            loginPlaceholder: "–õ–æ–≥—ñ–Ω (admin)",
            passwordPlaceholder: "–ü–∞—Ä–æ–ª—å (admin)",
            loginButton: "–£–≤—ñ–π—Ç–∏",
            appHeader: "ChaterLab Quick Replies",
            repliesTab: "–í—ñ–¥–ø–æ–≤—ñ–¥—ñ",
            instructionsTab: "–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è",
            englishSection: "–ê–Ω–≥–ª—ñ–π—Å—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç",
            russianSection: "–†–æ—Å—ñ–π—Å—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç",
            logoutButtonText: "–í–∏–π—Ç–∏",
            aboutHeader: "–ü—Ä–æ –ø–∞–Ω–µ–ª—å",
            aboutText: "–¶—è –ø–∞–Ω–µ–ª—å –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è, –æ–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó, —Ç–µ—Å—Ç–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∏ –¥–ª—è ChaterLab.",
            instructionHeader: "üìñ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —Ä–æ–±–æ—Ç–∏",
            errorInvalid: "–ù–µ–≤—ñ—Ä–Ω—ñ –¥–∞–Ω—ñ. –ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º.",
            toastMessage: "–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ",
            greetingButtonLabel: "–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è",
            jobDescButtonLabel: "–û–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó",
            jobPrimeButtonLabel: "–û–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó (–ü—Ä–∞–π–º)",
            flirtButtonLabel: "–§–ª—ñ—Ä—Ç-–∑–∞–≤–¥–∞–Ω–Ω—è",
            contactButtonLabel: "–ö–æ–Ω—Ç–∞–∫—Ç",
        }
    };

    let currentLang = 'ru';

    function getInitialLanguage() {
        return localStorage.getItem('chaterlabLang') || 'ru';
    }

    function switchLanguage(lang) {
        currentLang = lang;
        localStorage.setItem('chaterlabLang', lang);
        updateUI(lang);
    }

    function updateUI(lang) {
        document.querySelectorAll('[data-key]').forEach(el => {
            const key = el.dataset.key;
            const translation = translations[lang][key];
            if (translation !== undefined) {
                if (el.tagName === 'INPUT') {
                    el.placeholder = translation;
                } else {
                    el.textContent = translation;
                }
            }
        });

        document.documentElement.lang = lang;
        
        document.querySelectorAll('.login-lang-switcher button').forEach(btn => {
            btn.classList.toggle('active', btn.id.includes(`-${lang}`));
        });
        
        document.querySelectorAll('.toggle button').forEach(btn => {
            btn.classList.toggle('active', btn.id.toLowerCase().includes(lang));
        });

        updateInstructions(lang);
    }

    function checkLogin() {
        const loginScreen = document.getElementById('login-screen');
        const appContainer = document.getElementById('app-container');
        const body = document.body;
        if (localStorage.getItem('isLoggedIn') === 'true') {
            loginScreen.style.display = 'none';
            appContainer.style.display = 'flex';
            setTimeout(() => appContainer.style.opacity = '1', 50); 
            body.classList.remove('login-active');
            return true;
        } else {
            loginScreen.style.display = 'flex';
            appContainer.style.display = 'none';
            appContainer.style.opacity = '0';
            body.classList.add('login-active');
            return false;
        }
    }

    function handleLogin(event) {
        event.preventDefault();
        const usernameInput = document.getElementById('login-username');
        const passwordInput = document.getElementById('login-password');
        const errorDiv = document.getElementById('login-error');

        if (usernameInput.value === USER_CREDENTIALS.username && passwordInput.value === USER_CREDENTIALS.password) {
            localStorage.setItem('isLoggedIn', 'true');
            errorDiv.classList.remove('show');
            
            const loginFormContainer = document.querySelector('.login-form-container');
            const animationOverlay = document.getElementById('animation-overlay');
            loginFormContainer.style.opacity = '0';
            
            setTimeout(() => {
                animationOverlay.style.display = 'flex';
                animationOverlay.classList.add('animate');
                setTimeout(() => {
                    checkLogin();
                    animationOverlay.style.display = 'none';
                    switchLanguage(getInitialLanguage());
                    toggleMobileView('buttons');
                    loginFormContainer.style.opacity = '1';
                }, 2500);
            }, 400);
        } else {
            errorDiv.textContent = translations[currentLang].errorInvalid;
            errorDiv.classList.add('show');
            setTimeout(() => { errorDiv.classList.remove('show'); }, 4000);
        }
    }

    function logout() {
        localStorage.removeItem('isLoggedIn');
        checkLogin();
        const mobileSwitcher = document.getElementById('mobileSwitcher');
        if (mobileSwitcher) mobileSwitcher.style.display = 'none';
    }

    // --- TEXT DATA ---
    // ENGLISH
    const greetingsENG = [ "Good day! We are ChaterLab...", "Hello! This is ChaterLab..." ];
    let indexGreetingENG = 0;
    const jobDescriptionsENG = [ `Job Description:\nüìå Task:...`, `Vacancy: Chat Operator...` ];
    let indexJobENG = 0;
    const flirtClosingsENG = [ "Please create 10 unique phrases...", "As a test, please write 10 creative lines..." ];
    let indexFlirtENG = 0;
    const contactsENG = [ "Thank you for completing the test...", "Great job on the test!..." ];
    let indexContactENG = 0;
    // RUSSIAN
    const greetingsRU = [ "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ú—ã –∫–æ–º–ø–∞–Ω–∏—è ChaterLab...", "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –≠—Ç–æ ChaterLab..." ];
    let indexGreetingRU = 0;
    const jobDescriptionsRU = [ `–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏:\nüìå –ó–∞–¥–∞—á–∞:...`, `–í–∞–∫–∞–Ω—Å–∏—è: –û–ø–µ—Ä–∞—Ç–æ—Ä —á–∞—Ç–∞...` ];
    let indexJobRU = 0;
    const jobDescriptionsPrimeRU = [ `–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (–ü—Ä–∞–π–º):\nüìå –ó–∞–¥–∞—á–∞:...` ];
    let indexJobPrimeRU = 0;
    const flirtClosingsRU = [ "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ—Å—Ç–∞–≤—å—Ç–µ 10 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ—Ä–∞–∑...", "–í –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ 10 –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—Ä–∞–∑..." ];
    let indexFlirtRU = 0;
    const contactsRU = [ "–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ...", "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî —Å–≤—è–∑–∞—Ç—å—Å—è..." ];
    let indexContactRU = 0;
    
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.classList.add('show');
        if (navigator.vibrate) { navigator.vibrate(50); }
        setTimeout(() => { toast.classList.remove('show'); }, 2000);
    }

    function fallbackCopyTextToClipboard(text) {
      const textArea = document.createElement("textarea");
      textArea.value = text;
      textArea.style.position = "fixed"; textArea.style.opacity = "0";
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        const successful = document.execCommand('copy');
        document.body.removeChild(textArea);
        return successful;
      } catch (err) {
        console.error('Fallback copy failed', err);
        document.body.removeChild(textArea);
        return false;
      }
    }

    function copyAndCycle(array, index) {
        const textToCopy = array[index];
        const successMessage = `${translations[currentLang].toastMessage} (${index + 1}/${array.length})`;
        
        const copyFn = navigator.clipboard ? navigator.clipboard.writeText(textToCopy) : Promise.resolve(fallbackCopyTextToClipboard(textToCopy));

        copyFn.then(success => {
            if (success !== false) {
                showToast(successMessage);
            } else {
                showToast('Error copying');
            }
        }).catch(() => {
            if (fallbackCopyTextToClipboard(textToCopy)) {
                showToast(successMessage);
            } else {
                showToast('Error copying');
            }
        });
        
        return (index + 1) % array.length;
    }

    function copyGreetingENG() { indexGreetingENG = copyAndCycle(greetingsENG, indexGreetingENG); }
    function copyJobENG() { indexJobENG = copyAndCycle(jobDescriptionsENG, indexJobENG); }
    function copyFlirtENG() { indexFlirtENG = copyAndCycle(flirtClosingsENG, indexFlirtENG); }
    function copyContactENG() { indexContactENG = copyAndCycle(contactsENG, indexContactENG); }
    
    function copyGreetingRU() { indexGreetingRU = copyAndCycle(greetingsRU, indexGreetingRU); }
    function copyJobRU() { indexJobRU = copyAndCycle(jobDescriptionsRU, indexJobRU); }
    function copyJobPrimeRU() { indexJobPrimeRU = copyAndCycle(jobDescriptionsPrimeRU, indexJobPrimeRU); }
    function copyFlirtRU() { indexFlirtRU = copyAndCycle(flirtClosingsRU, indexFlirtRU); }
    function copyContactRU() { indexContactRU = copyAndCycle(contactsRU, indexContactRU); }

    function createResponsiveTable(headers, data) {
        let html = '<div class="table-container"><table><thead><tr>';
        headers.forEach(header => { html += `<th>${header}</th>`; });
        html += '</tr></thead><tbody>';
        data.forEach(row => {
            html += '<tr>';
            row.forEach(cell => { html += `<td>${cell}</td>`; });
            html += '</tr>';
        });
        html += '</tbody></table><div class="responsive-card-list">';
        data.forEach(row => {
            html += '<div class="data-card">';
            row.forEach((cell, index) => {
                html += `<div class="data-item"><strong>${headers[index]}</strong><span>${cell}</span></div>`;
            });
            html += '</div>';
        });
        html += '</div></div>';
        return html;
    }
    
    function updateInstructions(lang){
      const instructionsDiv = document.getElementById('instructions');
      
      let jobDescHeaders, jobDescData, contactHeaders, contactData, htmlContent;
      const t = translations[lang];

      if(lang === 'en'){
        jobDescHeaders = ["Location", "Experience", "Schedule", "Button"];
        jobDescData = [
            ["Kazakhstan", "Basic / No experience", "08:00‚Äì16:00, 16:00‚Äì00:00, 00:00‚Äì08:00", `${t.jobDescButtonLabel} (ENG)`],
            ["Kazakhstan", "Prime experience", "14:00‚Äì22:00, 22:00‚Äì06:00", `${t.jobPrimeButtonLabel} (ENG)`]
        ];
        contactHeaders = ["Location", "Contacts"];
        contactData = [
            ["Philippines", "Telegram: @strighik / WhatsApp: +380990650264<br>Telegram: @jszmn1827 / WhatsApp: +639260025915"],
            ["Kazakhstan (Prime)", "Telegram: @kruzhkov"]
        ];
        htmlContent = `<h3 data-key="instructionHeader">${t.instructionHeader}</h3>
          <div class="step"><h4><span class="step-number">1</span>Candidate Greeting</h4><ul><li>Russian audience ‚Üí <b>${t.greetingButtonLabel} (RU)</b></li><li>English audience ‚Üí <b>${t.greetingButtonLabel} (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">2</span>Job Description</h4>${createResponsiveTable(jobDescHeaders, jobDescData)}</div>
          <div class="step"><h4><span class="step-number">3</span>Test Assignment</h4><ul><li>Russian audience ‚Üí <b>${t.flirtButtonLabel} (RU)</b></li><li>English audience ‚Üí <b>${t.flirtButtonLabel} (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">4</span>Application Handling</h4><ol><li>Log all applications in the <code>LEADS</code> sheet.</li><li>After test completion, provide manager's contact.</li><li>Documentation in Google Sheets (Tab: <code>Interns</code>)</li></ol></div>
          <div class="step"><h4><span class="step-number">5</span>Manager Contacts</h4>${createResponsiveTable(contactHeaders, contactData)}</div>`;
      } else { // Russian and Ukrainian have similar instruction structure
        jobDescHeaders = (lang === 'ru') ? ["–õ–æ–∫–∞—Ü–∏—è", "–û–ø—ã—Ç", "–ì—Ä–∞—Ñ–∏–∫", "–ö–Ω–æ–ø–∫–∞"] : ["–õ–æ–∫–∞—Ü—ñ—è", "–î–æ—Å–≤—ñ–¥", "–ì—Ä–∞—Ñ—ñ–∫", "–ö–Ω–æ–ø–∫–∞"];
        jobDescData = [
            ["–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω", "–ë–µ–∑ –æ–ø—ã—Ç–∞ / –±–∞–∑–æ–≤—ã–π", "08:00‚Äì16:00, 16:00‚Äì00:00, 00:00‚Äì08:00", `${t.jobDescButtonLabel} (RU)`],
            ["–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω", "–û–ø—ã—Ç –ü—Ä–∞–π–º–∞", "14:00‚Äì22:00, 22:00‚Äì06:00", `${t.jobPrimeButtonLabel} (RU)`]
        ];
        contactHeaders = (lang === 'ru') ? ["–õ–æ–∫–∞—Ü–∏—è", "–ö–æ–Ω—Ç–∞–∫—Ç—ã"] : ["–õ–æ–∫–∞—Ü—ñ—è", "–ö–æ–Ω—Ç–∞–∫—Ç–∏"];
        contactData = [
            ["–§–∏–ª–∏–ø–ø–∏–Ω—ã", "Telegram: @strighik / WhatsApp: +380990650264<br>Telegram: @jszmn1827 / WhatsApp: +639260025915"],
            ["–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω (–æ–ø—ã—Ç –ü—Ä–∞–π–º–∞)", "Telegram: @kruzhkov"]
        ];
        const audience_ru = (lang === 'ru') ? "–†—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è" : "–†–æ—Å—ñ–π—Å—å–∫–æ–º–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è";
        const audience_en = (lang === 'ru') ? "–ê–Ω–≥–ª–æ—è–∑—ã—á–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è" : "–ê–Ω–≥–ª–æ–º–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è";

        htmlContent = `<h3 data-key="instructionHeader">${t.instructionHeader}</h3>
          <div class="step"><h4><span class="step-number">1</span>${t.greetingButtonLabel} –∫–∞–Ω–¥–∏–¥–∞—Ç–∞</h4><ul><li>${audience_ru} ‚Üí <b>${t.greetingButtonLabel} (RU)</b></li><li>${audience_en} ‚Üí <b>${t.greetingButtonLabel} (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">2</span>${t.jobDescButtonLabel}</h4>${createResponsiveTable(jobDescHeaders, jobDescData)}</div>
          <div class="step"><h4><span class="step-number">3</span>–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h4><ul><li>${audience_ru} ‚Üí <b>${t.flirtButtonLabel} (RU)</b></li><li>${audience_en} ‚Üí <b>${t.flirtButtonLabel} (ENG)</b></li></ul></div>
          <div class="step"><h4><span class="step-number">4</span>–†–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏</h4><ol><li>–í—Å–µ –∑–∞—è–≤–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ <code>–õ–ò–î–´</code>.</li><li>–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –∏ –≤—ã–±–æ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞ ‚Üí –≤—ã–¥–∞—ë–º –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞.</li><li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Google Sheets (–í–∫–ª–∞–¥–∫–∞: <code>–°—Ç–∞–∂—ë—Ä—ã</code>)</li><li>–°—Ç–∞—Ç—É—Å ‚Üí <code>¬´–ø–µ—Ä–µ–¥–∞–Ω –∞–¥–º–∏–Ω—É¬ª</code></li></ol></div>
          <div class="step"><h4><span class="step-number">5</span>–ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤</h4>${createResponsiveTable(contactHeaders, contactData)}</div>`;
      }
      instructionsDiv.innerHTML = htmlContent;
    }
    
    function toggleMobileView(view) {
        const sidebar = document.getElementById('sidebarBlock');
        const info = document.getElementById('infoBlock');
        const btnButtons = document.getElementById('switchButtons');
        const btnInstructions = document.getElementById('switchInstructions');
        
        if (!window.matchMedia("(max-width: 768px)").matches) {
            sidebar.style.display = 'flex'; 
            info.style.display = 'block'; 
            return;
        }

        const isButtonsView = view === 'buttons';
        sidebar.style.display = isButtonsView ? 'flex' : 'none';
        info.style.display = isButtonsView ? 'none' : 'block';
        btnButtons.classList.toggle('active', isButtonsView);
        btnInstructions.classList.toggle('active', !isButtonsView);
    }

    document.addEventListener('DOMContentLoaded', () => {
        const loggedIn = checkLogin();
        document.getElementById('login-form').addEventListener('submit', handleLogin);
        
        const initialLang = getInitialLanguage();
        switchLanguage(initialLang);

        if (loggedIn) {
            toggleMobileView('buttons');
        }
    });

    window.addEventListener('resize', () => {
        if (!window.matchMedia("(max-width: 768px)").matches) {
            document.getElementById('sidebarBlock').style.display = 'flex';
            document.getElementById('infoBlock').style.display = 'block';
        } else {
            const activeSwitcher = document.querySelector('.mobile-switcher button.active');
            if (activeSwitcher.id === 'switchButtons') {
                toggleMobileView('buttons');
            } else {
                toggleMobileView('instructions');
            }
        }
    });
  </script>
</body>
</html>
