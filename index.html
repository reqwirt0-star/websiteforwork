<div id="app-container" data-logged="false">
    <header data-key="appHeader">ChaterLab Quick Replies</header>
    
    <div class="mobile-switcher" id="mobileSwitcher">
        </div>

    <main> 
        <div class="sidebar" id="sidebarBlock"> 
            
            <div id="sidebar-content-scroll">
                
                <div class="search-container"> 
                    <input type="search" id="searchInput" data-key="searchPlaceholder" placeholder="–ü–æ–∏—Å–∫..."> 
                </div> 
                
                <div class="sidebar-section" id="eng-section"> 
                    <h2 data-key="englishSection">English Content</h2> 
                    <button id="btn-greeting-en" onclick="copyGreetingENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="greetingButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-greeting-en')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                    <button id="btn-job-en" onclick="copyJobENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="jobDescButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-job-en')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                    <button id="btn-flirt-en" onclick="copyFlirtENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="flirtButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-flirt-en')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                    <button id="btn-contact-en" onclick="copyContactENG()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="contactButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-contact-en')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                </div> 

                <div class="sidebar-section" id="ru-section"> 
                    <h2 data-key="russianSection">–†—É—Å—Å–∫–∏–π</h2> 
                    <button id="btn-greeting-ru" onclick="copyGreetingRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="greetingButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-greeting-ru')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                    <button id="btn-job-ru" onclick="copyJobRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="jobDescButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-job-ru')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                    <button id="btn-jobprime-ru" onclick="copyJobPrimeRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="jobPrimeButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-jobprime-ru')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                    <button id="btn-flirt-ru" onclick="copyFlirtRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="flirtButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-flirt-ru')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                    <button id="btn-contact-ru" onclick="copyContactRU()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M8 17.929H6c-1.105 0-2-.912-2-2.036V5.036C4 3.91 4.895 3 6 3h8c1.105 0 2 .911 2 2.036v1.866m-6 .17h8c1.105 0 2 .91 2 2.035v10.857C20 21.09 19.105 22 18 22h-8c-1.105 0-2-.911-2-2.036V9.107c0-1.124.895-2.036 2-2.036z"/></svg><span data-key="contactButtonLabel"></span> <div class="favorite-toggle" onclick="toggleFavorite(event, 'btn-contact-ru')"><svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div></button> 
                </div> 
                
            </div> 
            
            <div class="sidebar-footer"> 
                <hr class="sidebar-divider"> 
                <div class="theme-switch-wrapper"> 
                    <div class="theme-switch-label" data-key="darkModeLabel">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</div> 
                    <label class="theme-switch" for="theme-checkbox"> 
                        <input type="checkbox" id="theme-checkbox" /> 
                        <div class="slider round"></div> 
                    </label> 
                </div> 
                <button onclick="logout()"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><path d="M16 17l5-5-5-5"/><path d="M21 12H9"/></svg><span data-key="logoutButtonText">–í—ã–π—Ç–∏</span></button> 
            </div> 

            <div class="info" id="infoBlock"> 
                <div class="toggle"> 
                    <button id="btnEN" onclick="switchLanguage('en')">EN</button> 
                    <button id="btnUA" onclick="switchLanguage('uk')">UA</button> 
                    <button id="btnRU" onclick="switchLanguage('ru')">RU</button> 
                </div> 
                <h3 id="infoHeader" data-key="aboutHeader"></h3> 
                <p id="infoText" data-key="aboutText"></p> 
                <div class="instructions" id="instructions"></div> 
            </div> 
        </main> 
    </div> 
    <div id="toast" class="toast-notification"></div> 

    <script> 
        "use strict"; 

        // =================================================================================== 
        // DATA STORE - All content and translations are here for easy management 
        // =================================================================================== 
        const appData = { 
            credentials: [
                { username: 'admin', password: 'admin' },
                { username: 'manager', password: 'manager' } // –£—á–µ—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
            ], 
            i18n: { 
                en: { 
                    loginHeader: "ChaterLab", loginSubheader: "Quick Replies Panel", loginPlaceholder: "Login", passwordPlaceholder: "Password", loginButton: "Log In", 
                    appHeader: "ChaterLab Quick Replies", repliesTab: "Replies", instructionsTab: "Instructions", 
                    englishSection: "English Content", russianSection: "Russian Content", logoutButtonText: "Log Out", 
                    aboutHeader: "About this tool", aboutText: "This panel allows you to quickly copy professional greetings, job descriptions, test assignments, and contacts for ChaterLab. Click any button to copy the text to your clipboard.", 
                    instructionHeader: "üìñ Instruction", errorInvalid: "Invalid credentials. Please contact your manager.", 
                    toastMessage: "Copied", searchPlaceholder: "Search...", darkModeLabel: "Dark Mode", 
                    greetingButtonLabel: "Greeting", jobDescButtonLabel: "Job Description", jobPrimeButtonLabel: "Job Description (Prime)", flirtButtonLabel: "Flirt Task", contactButtonLabel: "Contact", 
                }, 
                ru: { 
                    loginHeader: "ChaterLab", loginSubheader: "–ü–∞–Ω–µ–ª—å –±—ã—Å—Ç—Ä—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤", loginPlaceholder: "–õ–æ–≥–∏–Ω", passwordPlaceholder: "–ü–∞—Ä–æ–ª—å", loginButton: "–í–æ–π—Ç–∏", 
                    appHeader: "ChaterLab Quick Replies", repliesTab: "–û—Ç–≤–µ—Ç—ã", instructionsTab: "–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", 
                    englishSection: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç", russianSection: "–†—É—Å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç", logoutButtonText: "–í—ã–π—Ç–∏", 
                    aboutHeader: "–û –ø–∞–Ω–µ–ª–∏", aboutText: "–≠—Ç–∞ –ø–∞–Ω–µ–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏, —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è ChaterLab. –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.", 
                    instructionHeader: "üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã", errorInvalid: "–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º.", 
                    toastMessage: "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ", searchPlaceholder: "–ü–æ–∏—Å–∫...", darkModeLabel: "–¢—ë–º–Ω–∞—è —Ç–µ–º–∞", 
                    greetingButtonLabel: "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ", jobDescButtonLabel: "–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏", jobPrimeButtonLabel: "–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (–ü—Ä–∞–π–º)", flirtButtonLabel: "–§–ª–∏—Ä—Ç-–∑–∞–¥–∞–Ω–∏–µ", contactButtonLabel: "–ö–æ–Ω—Ç–∞–∫—Ç", 
                },
                 uk: { 
                    loginHeader: "ChaterLab", loginSubheader: "–ü–∞–Ω–µ–ª—å —à–≤–∏–¥–∫–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π", loginPlaceholder: "–õ–æ–≥—ñ–Ω", passwordPlaceholder: "–ü–∞—Ä–æ–ª—å", loginButton: "–£–≤—ñ–π—Ç–∏", 
                    appHeader: "ChaterLab Quick Replies", repliesTab: "–í—ñ–¥–ø–æ–≤—ñ–¥—ñ", instructionsTab: "–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è", 
                    englishSection: "–ê–Ω–≥–ª—ñ–π—Å—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç", russianSection: "–†–æ—Å—ñ–π—Å—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç", logoutButtonText: "–í–∏–π—Ç–∏", 
                    aboutHeader: "–ü—Ä–æ –ø–∞–Ω–µ–ª—å", aboutText: "–¶—è –ø–∞–Ω–µ–ª—å –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è, –æ–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó, —Ç–µ—Å—Ç–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∏ –¥–ª—è ChaterLab. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –±—É–¥—å-—è–∫—É –∫–Ω–æ–ø–∫—É, —â–æ–± —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É.", 
                    instructionHeader: "üìñ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è —Ä–æ–±–æ—Ç–∏", errorInvalid: "–ù–µ–≤—ñ—Ä–Ω—ñ –¥–∞–Ω—ñ. –ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º.", 
                    toastMessage: "–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ", searchPlaceholder: "–ü–æ—à—É–∫...", darkModeLabel: "–¢–µ–º–Ω–∞ —Ç–µ–º–∞", 
                    greetingButtonLabel: "–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è", jobDescButtonLabel: "–û–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó", jobPrimeButtonLabel: "–û–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó (–ü—Ä–∞–π–º)", flirtButtonLabel: "–§–ª—ñ—Ä—Ç-–∑–∞–≤–¥–∞–Ω–Ω—è", contactButtonLabel: "–ö–æ–Ω—Ç–∞–∫—Ç", 
                }
            }, 
            templates: { 
                en: { 
                    greetings: [ "Good day! We are ChaterLab. Do you have experience...", "Hello! This is ChaterLab..." ], 
                    jobDescriptions: [ `Job Description:\nüìå Task:...\nWhich shift suits you?`, `Vacancy: Chat Operator...` ], 
                    jobDescriptionsPrime: [ `Job Description (Prime):\nüìå Task:...` ],
                    flirtClosings: [ "Please create 10 unique phrases...", "As a test, please write 10 creative lines..." ], 
                    contacts: [ "Thank you for completing the test...", "Great job on the test!..." ] 
                }, 
                ru: { 
                    greetings: [ "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –ú—ã –∫–æ–º–ø–∞–Ω–∏—è ChaterLab...", "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –≠—Ç–æ ChaterLab..." ], 
                    jobDescriptions: [ `–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏:\nüìå –ó–∞–¥–∞—á–∞:...\n–ö–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫ –≤–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç?`, `–í–∞–∫–∞–Ω—Å–∏—è: –û–ø–µ—Ä–∞—Ç–æ—Ä —á–∞—Ç–∞...` ], 
                    jobDescriptionsPrime: [ `–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (–ü—Ä–∞–π–º):\nüìå –ó–∞–¥–∞—á–∞:...\n–ö–∞–∫–æ–π –≥—Ä–∞—Ñ–∏–∫ –≤–∞–º –ø–æ–¥—Ö–æ–¥–∏—Ç?` ], 
                    flirtClosings: [ "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ—Å—Ç–∞–≤—å—Ç–µ 10 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ—Ä–∞–∑...", "–í –∫–∞—á–µ—Å—Ç–≤–µ —Ç–µ—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ 10 –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—Ä–∞–∑..." ], 
                    contacts: [ "–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ...", "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî —Å–≤—è–∑–∞—Ç—å—Å—è..." ] 
                }
            } 
        }; 

        // =================================================================================== 
        // GLOBAL STATE & UTILITIES 
        // =================================================================================== 
        let currentLang = 'ru'; 
        const templateIndexes = { en: {}, ru: {} }; 

        function getLocalStorage(key, defaultValue) { 
            try { 
                const storedValue = localStorage.getItem(key); 
                return storedValue ? JSON.parse(storedValue) : defaultValue; 
            } catch (e) { 
                console.error("Error reading from localStorage", e); 
                return defaultValue; 
            } 
        } 

        function setLocalStorage(key, value) { 
            try { 
                localStorage.setItem(key, JSON.stringify(value)); 
            } catch (e) { 
                console.error("Error writing to localStorage", e); 
            } 
        } 
        
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            if (navigator.vibrate) navigator.vibrate(50);
            setTimeout(() => {
                toast.classList.remove('show');
            }, 1500);
        }

        // =================================================================================== 
        // AUTHENTICATION 
        // =================================================================================== 
        function checkLogin() { 
            const loggedIn = getLocalStorage('chaterlabLoggedIn', false);
            const loginScreen = document.getElementById('login-screen');
            const appContainer = document.getElementById('app-container');

            if (loggedIn) {
                loginScreen.style.display = 'none';
                document.body.classList.remove('login-active');
                appContainer.setAttribute('data-logged', 'true'); // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞—Ç—Ä–∏–±—É—Ç–∞ –¥–ª—è CSS
                appContainer.style.opacity = '1';
                appContainer.style.display = 'flex'; // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–µ–Ω
                return true;
            } else {
                loginScreen.style.display = 'flex';
                document.body.classList.add('login-active');
                appContainer.setAttribute('data-logged', 'false');
                appContainer.style.opacity = '0';
                appContainer.style.display = 'none';
                return false;
            }
        } 

        function handleLogin(event) { 
            event.preventDefault();
            const usernameInput = document.getElementById('login-username');
            const passwordInput = document.getElementById('login-password');
            const errorDiv = document.getElementById('login-error');

            const username = usernameInput.value.trim();
            const password = passwordInput.value.trim();
            
            errorDiv.classList.remove('show');
            errorDiv.textContent = '';
            
            const isValid = appData.credentials.some(cred => cred.username === username && cred.password === password);

            if (isValid) {
                setLocalStorage('chaterlabLoggedIn', true);
                document.body.classList.remove('login-active');
                document.getElementById('login-screen').style.display = 'none';
                
                const overlay = document.getElementById('animation-overlay');
                overlay.style.display = 'flex';
                overlay.classList.add('animate');

                setTimeout(() => {
                    overlay.style.display = 'none';
                    document.getElementById('app-container').style.display = 'flex';
                    document.getElementById('app-container').setAttribute('data-logged', 'true');
                    document.getElementById('app-container').style.opacity = '1';
                    toggleMobileView('buttons'); 
                }, 2500); 

                setupDarkMode();
                renderFavorites();

            } else {
                errorDiv.textContent = appData.i18n[currentLang].errorInvalid;
                errorDiv.classList.add('show');
            }
        } 

        function logout() { 
            setLocalStorage('chaterlabLoggedIn', false);
            document.getElementById('login-username').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('app-container').style.opacity = '0';
            document.getElementById('app-container').setAttribute('data-logged', 'false');
            document.getElementById('app-container').style.display = 'none';
            
            document.getElementById('login-screen').style.display = 'flex';
            document.body.classList.add('login-active');
        } 

        // =================================================================================== 
        // INTERNATIONALIZATION (i18n) & UI UPDATES 
        // =================================================================================== 
        function getInitialLanguage() { return getLocalStorage('chaterlabLang', 'ru'); } 
        function switchLanguage(lang) { currentLang = lang; setLocalStorage('chaterlabLang', lang); updateUI(lang); } 

        function updateUI(lang) { 
            document.querySelectorAll('[data-key]').forEach(el => { 
                const key = el.dataset.key; 
                const translation = appData.i18n[lang][key]; 
                if (translation !== undefined) { 
                    if (el.tagName === 'INPUT') el.placeholder = translation; 
                    else el.textContent = translation; 
                } 
            }); 
            document.documentElement.lang = lang; 
            document.querySelectorAll('.login-lang-switcher button').forEach(btn => btn.classList.toggle('active', btn.id.includes(`-${lang}`))); 
            document.querySelectorAll('.toggle button').forEach(btn => btn.classList.toggle('active', btn.id.toLowerCase().includes(lang))); 
            updateInstructions(lang); 
        } 
        
        /**
         * –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ 
         */
        function updateInstructions(lang) {
            const instructionsDiv = document.getElementById('instructions');
            const infoHeader = document.getElementById('infoHeader');
            const infoText = document.getElementById('infoText');
            
            const i18n = appData.i18n[lang];

            // 1. –û–±–Ω–æ–≤–ª—è–µ–º header –∏ —Ç–µ–∫—Å—Ç "–û –ø–∞–Ω–µ–ª–∏"
            infoHeader.textContent = i18n.aboutHeader;
            infoText.textContent = i18n.aboutText;

            // 2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º HTML –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞
            let content;
            const isEnglish = lang === 'en';
            const isUkrainian = lang === 'uk';
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã
            const loc = (key) => appData.i18n[lang][key] || key;
            const ruText = isEnglish ? 'Russian audience' : (isUkrainian ? '–†–æ—Å—ñ–π—Å—å–∫–æ–º–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è' : '–†—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è');
            const enText = isEnglish ? 'English audience' : (isUkrainian ? '–ê–Ω–≥–ª–æ–º–æ–≤–Ω–∞ –∞—É–¥–∏—Ç–æ—Ä—ñ—è' : '–ê–Ω–≥–ª–æ—è–∑—ã—á–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è');
            

            content = `
                <h3 data-key="instructionHeader">${loc('instructionHeader')}</h3>

                <div class="step">
                    <h4><span class="step-number">1</span> ${isEnglish ? 'Candidate Greeting' : (isUkrainian ? '–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è –∫–∞–Ω–¥–∏–¥–∞—Ç–∞' : '–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞')}</h4>
                    <ul>
                        <li>${ruText} ‚Üí <strong>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (RU)</strong></li>
                        <li>${enText} ‚Üí <strong>Greeting (ENG)</strong></li>
                    </ul>
                </div>

                <div class="step">
                    <h4><span class="step-number">2</span> ${isEnglish ? 'Job Description' : (isUkrainian ? '–û–ø–∏—Å –≤–∞–∫–∞–Ω—Å—ñ—ó' : '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏')}</h4>
                    <ul>
                        <li>${ruText} ‚Üí <strong>–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (RU)</strong></li>
                        <li>${enText} ‚Üí <strong>Job Description (ENG)</strong></li>
                    </ul>
                    <table>
                        <thead>
                            <tr>
                                <th>${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}</th>
                                <th>${isEnglish ? 'Experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥' : '–û–ø—ã—Ç')}</th>
                                <th>${isEnglish ? 'Schedule' : (isUkrainian ? '–ì—Ä–∞—Ñ—ñ–∫' : '–ì—Ä–∞—Ñ–∏–∫')}</th>
                                <th>${isEnglish ? 'Button' : (isUkrainian ? '–ö–Ω–æ–ø–∫–∞' : '–ö–Ω–æ–ø–∫–∞')}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</td>
                                <td data-label="${isEnglish ? 'Experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥' : '–û–ø—ã—Ç')}">${isEnglish ? 'Basic / No experience' : (isUkrainian ? '–ë–µ–∑ –¥–æ—Å–≤—ñ–¥—É / –±–∞–∑–æ–≤–∏–π' : '–ë–µ–∑ –æ–ø—ã—Ç–∞ / –±–∞–∑–æ–≤—ã–π')}</td>
                                <td data-label="${isEnglish ? 'Schedule' : (isUkrainian ? '–ì—Ä–∞—Ñ—ñ–∫' : '–ì—Ä–∞—Ñ–∏–∫')}">08:00‚Äì16:00, 16:00‚Äì00:00, 00:00‚Äì08:00 (Kyiv time)</td>
                                <td data-label="${isEnglish ? 'Button' : (isUkrainian ? '–ö–Ω–æ–ø–∫–∞' : '–ö–Ω–æ–ø–∫–∞')}">${isEnglish ? 'Job Description (ENG)' : '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (RU)'}</td>
                            </tr>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</td>
                                <td data-label="${isEnglish ? 'Experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥' : '–û–ø—ã—Ç')}">${isEnglish ? 'Prime experience' : (isUkrainian ? '–î–æ—Å–≤—ñ–¥ –ü—Ä–∞–π–º–∞' : '–û–ø—ã—Ç –ü—Ä–∞–π–º–∞')}</td>
                                <td data-label="${isEnglish ? 'Schedule' : (isUkrainian ? '–ì—Ä–∞—Ñ—ñ–∫' : '–ì—Ä–∞—Ñ–∏–∫')}">14:00‚Äì22:00, 22:00‚Äì06:00 (Kyiv time)</td>
                                <td data-label="${isEnglish ? 'Button' : (isUkrainian ? '–ö–Ω–æ–ø–∫–∞' : '–ö–Ω–æ–ø–∫–∞')}">${isEnglish ? 'Job Description (Prime) (ENG)' : '–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏. –° –æ–ø—ã—Ç–æ–º –ü—Ä–∞–π–º–∞ (RU)'}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="step">
                    <h4><span class="step-number">3</span> ${isEnglish ? 'Test Assignment' : (isUkrainian ? '–¢–µ—Å—Ç–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è' : '–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ')}</h4>
                    <ul>
                        <li>${ruText} ‚Üí <strong>–§–ª–∏—Ä—Ç-–∑–∞–¥–∞–Ω–∏–µ (RU)</strong></li>
                        <li>${enText} ‚Üí <strong>Flirt Closing (ENG)</strong></li>
                    </ul>
                </div>

                <div class="step">
                    <h4><span class="step-number">4</span> ${isEnglish ? 'Handling Applications & Documentation' : (isUkrainian ? '–†–æ–±–æ—Ç–∞ —ñ–∑ –∑–∞—è–≤–∫–∞–º–∏ —Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é' : '–†–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–∞–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π')}</h4>
                    <ol>
                        <li>${isEnglish ? 'All applications are logged in the' : (isUkrainian ? '–£—Å—ñ –∑–∞—è–≤–∫–∏ —Ñ—ñ–∫—Å—É—é—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ' : '–í—Å–µ –∑–∞—è–≤–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ')} <strong>–õ–ò–î–´</strong>.</li>
                        <li>${isEnglish ? 'After completing the test and choosing a schedule ‚Üí provide the manager contact.' : (isUkrainian ? '–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Å—Ç—É —Ç–∞ –≤–∏–±–æ—Ä—É –≥—Ä–∞—Ñ—ñ–∫—É ‚Üí –≤–∏–¥–∞—î–º–æ –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞.' : '–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –∏ –≤—ã–±–æ—Ä–∞ –≥—Ä–∞—Ñ–∏–∫–∞ ‚Üí –≤—ã–¥–∞—ë–º –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞.')}</li>
                        <li>${isEnglish ? 'Send in the work Telegram group:' : (isUkrainian ? '–ù–∞–¥—Å–∏–ª–∞—î–º–æ –≤ —Ä–æ–±–æ—á—É Telegram-–≥—Ä—É–ø—É:' : '–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Ä–∞–±–æ—á—É—é Telegram-–≥—Ä—É–ø–ø—É:')}
                            <ul>
                                <li>${isEnglish ? 'Screenshot of the completed test' : (isUkrainian ? '–°–∫—Ä—ñ–Ω –≤–∏–∫–æ–Ω–∞–Ω–æ–≥–æ —Ç–µ—Å—Ç—É' : '–°–∫—Ä–∏–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞')}</li>
                                <li>${isEnglish ? 'Below it: candidate contacts, schedule, assigned manager' : (isUkrainian ? '–ü—ñ–¥–ø–∏—Å: –∫–æ–Ω—Ç–∞–∫—Ç–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞, –≥—Ä–∞—Ñ—ñ–∫, –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞' : '–ü–æ–¥–ø–∏—Å—å: –∫–æ–Ω—Ç–∞–∫—Ç—ã –∫–∞–Ω–¥–∏–¥–∞—Ç–∞, –≥—Ä–∞—Ñ–∏–∫, –∫–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞')}</li>
                            </ul>
                        </li>
                        <li>${isEnglish ? 'Documentation in Google Sheets:' : (isUkrainian ? '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —É Google Sheets:' : '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ Google Sheets:')}
                            <ul>
                                <li>${isEnglish ? 'Philippines' : (isUkrainian ? '–§—ñ–ª—ñ–ø–ø—ñ–Ω–∏' : '–§–∏–ª–∏–ø–ø–∏–Ω—ã')} ‚Üí <strong>Chathouse Philippines</strong></li>
                                <li>${isEnglish ? 'Kazakhstan' : (isUkrainian ? '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω' : '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω')} ‚Üí <strong>Chathouse</strong></li>
                                <li>${isEnglish ? 'Tab: <strong>Interns</strong>' : (isUkrainian ? '–í–∫–ª–∞–¥–∫–∞: <strong>–°—Ç–∞–∂–∏—Å—Ç–∏</strong>' : '–í–∫–ª–∞–¥–∫–∞: <strong>–°—Ç–∞–∂—ë—Ä—ã</strong>')}</li>
                                <li>${isEnglish ? 'Fill: Date, Candidate contact, Schedule, Manager' : (isUkrainian ? '–ó–∞–ø–æ–≤–Ω—é—î–º–æ: –î–∞—Ç–∞, –ö–æ–Ω—Ç–∞–∫—Ç, –ì—Ä–∞—Ñ—ñ–∫, –ú–µ–Ω–µ–¥–∂–µ—Ä' : '–ó–∞–ø–æ–ª–Ω—è–µ–º: –î–∞—Ç–∞, –ö–æ–Ω—Ç–∞–∫—Ç, –ì—Ä–∞—Ñ–∏–∫, –ú–µ–Ω–µ–¥–∂–µ—Ä')}</li>
                                <li>${isEnglish ? 'Status ‚Üí "assigned to admin"' : (isUkrainian ? '–°—Ç–∞—Ç—É—Å ‚Üí ¬´–ø–µ—Ä–µ–¥–∞–Ω–æ –∞–¥–º—ñ–Ω—É¬ª' : '–°—Ç–∞—Ç—É—Å ‚Üí ¬´–ø–µ—Ä–µ–¥–∞–Ω –∞–¥–º–∏–Ω—É¬ª')}</li>
                            </ul>
                        </li>
                    </ol>
                </div>

                <div class="step">
                    <h4><span class="step-number">5</span> ${isEnglish ? 'Manager Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤')}</h4>
                    <table>
                        <thead>
                            <tr><th>${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}</th><th>${isEnglish ? 'Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã')}</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">${isEnglish ? 'Philippines' : (isUkrainian ? '–§—ñ–ª—ñ–ø–ø—ñ–Ω–∏' : '–§–∏–ª–∏–ø–ø–∏–Ω—ã')}</td>
                                <td data-label="${isEnglish ? 'Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã')}">Telegram: @strighik / WhatsApp: +380990650264<br>Telegram: @jszmn1827 / WhatsApp: +639260025915</td>
                            </tr>
                            <tr>
                                <td data-label="${isEnglish ? 'Location' : (isUkrainian ? '–õ–æ–∫–∞—Ü—ñ—è' : '–õ–æ–∫–∞—Ü–∏—è')}">${isEnglish ? 'Kazakhstan (Prime)' : (isUkrainian ? '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω (–¥–æ—Å–≤—ñ–¥ –ü—Ä–∞–π–º–∞)' : '–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω (–æ–ø—ã—Ç –ü—Ä–∞–π–º–∞)')}</td>
                                <td data-label="${isEnglish ? 'Contacts' : (isUkrainian ? '–ö–æ–Ω—Ç–∞–∫—Ç–∏' : '–ö–æ–Ω—Ç–∞–∫—Ç—ã')}">Telegram: @sandra01075 / WhatsApp: -</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            `;
            instructionsDiv.innerHTML = content;
        }

        // =================================================================================== 
        // CORE FUNCTIONALITY: COPY, SEARCH, FAVORITES, STATS 
        // =================================================================================== 
        function copyAndCycle(lang, type, buttonId) { 
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –∏ —Ç–∏–ø–∞, –ø—Ä–µ–∂–¥–µ —á–µ–º –ø—ã—Ç–∞—Ç—å—Å—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
            if (!appData.templates[lang] || !appData.templates[lang][type]) {
                if (lang === 'uk') {
                     showToast(appData.i18n[currentLang].toastMessage + " (–ö–æ–Ω—Ç–µ–Ω—Ç UA –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω)");
                } else {
                     showToast(`Error: Content for ${lang} not found.`);
                }
                return;
            }

            const templates = appData.templates[lang][type]; 
            if (!templateIndexes[lang][type]) templateIndexes[lang][type] = 0; 
            
            const textToCopy = templates[templateIndexes[lang][type]]; 
            const successMessage = `${appData.i18n[currentLang].toastMessage} (${templateIndexes[lang][type] + 1}/${templates.length})`; 
            
            navigator.clipboard.writeText(textToCopy).then(() => { 
                showToast(successMessage); 
                trackClick(buttonId); 
            }).catch(() => showToast('Error copying')); 
            
            templateIndexes[lang][type] = (templateIndexes[lang][type] + 1) % templates.length; 
        } 
        
        function handleSearch(event) { 
            const query = event.target.value.toLowerCase(); 
            document.querySelectorAll('.sidebar-section').forEach(section => { 
                let visibleButtons = 0; 
                section.querySelectorAll('button').forEach(button => { 
                    const span = button.querySelector('span[data-key]');
                    const text = span ? span.textContent.toLowerCase() : ''; 
                    const buttonText = button.id.toLowerCase();

                    if (text.includes(query) || buttonText.includes(query)) { 
                        button.style.display = 'flex'; 
                        visibleButtons++; 
                    } else { 
                        button.style.display = 'none'; 
                    } 
                }); 
                const h2 = section.querySelector('h2');
                if(h2) h2.style.display = visibleButtons > 0 ? 'block' : 'none'; 
            }); 
        } 

        function toggleFavorite(event, buttonId) { 
            event.stopPropagation(); 
            const favorites = getLocalStorage('chaterlabFavorites', []); 
            const button = document.getElementById(buttonId); 
            const favToggle = button.querySelector('.favorite-toggle'); 

            if (favorites.includes(buttonId)) { 
                const index = favorites.indexOf(buttonId); 
                favorites.splice(index, 1); 
                favToggle.classList.remove('is-favorite'); 
            } else { 
                favorites.push(buttonId); 
                favToggle.classList.add('is-favorite'); 
            } 
            setLocalStorage('chaterlabFavorites', favorites); 
            renderFavorites(); 
        } 

        function renderFavorites() { 
            const favorites = getLocalStorage('chaterlabFavorites', []); 
            document.querySelectorAll('.sidebar-section').forEach(section => { 
                const buttons = Array.from(section.querySelectorAll('button')); 
                buttons.forEach(button => {
                    const favToggle = button.querySelector('.favorite-toggle');
                    if (favorites.includes(button.id) && favToggle) {
                        favToggle.classList.add('is-favorite');
                    } else if (favToggle) {
                        favToggle.classList.remove('is-favorite');
                    }
                });
                buttons.sort((a, b) => { 
                    const aIsFav = favorites.includes(a.id); 
                    const bIsFav = favorites.includes(b.id); 
                    return bIsFav - aIsFav; 
                }); 
                buttons.forEach(button => section.appendChild(button)); 
            }); 
        } 

        function trackClick(buttonId) { 
            const stats = getLocalStorage('chaterlabStats', {}); 
            stats[buttonId] = (stats[buttonId] || 0) + 1; 
            setLocalStorage('chaterlabStats', stats); 
        } 
        
        function getStats() { console.table(getLocalStorage('chaterlabStats', {})); } 
        
        function setupDarkMode() { 
            const toggle = document.getElementById('theme-checkbox'); 
            const currentTheme = getLocalStorage('chaterlabTheme', 'light'); 
            
            if (currentTheme === 'dark') { 
                document.body.classList.add('dark-mode'); 
                if(toggle) toggle.checked = true; 
            } 

            if(toggle) toggle.addEventListener('change', () => { 
                document.body.classList.toggle('dark-mode'); 
                const theme = document.body.classList.contains('dark-mode') ? 'dark' : 'light'; 
                setLocalStorage('chaterlabTheme', theme); 
            }); 
        } 

        // ===================================================================================
        // MOBILE VIEW TOGGLE
        // ===================================================================================
        function toggleMobileView(view) {
            const main = document.querySelector('main');
            const switchButtons = document.getElementById('switchButtons');
            const switchInstructions = document.getElementById('switchInstructions');

            const isMobile = window.innerWidth <= 768;

            if (isMobile) {
                if (view === 'buttons') {
                    main.classList.add('sidebar-visible');
                    main.classList.remove('info-visible');
                    if (switchButtons) switchButtons.classList.add('active');
                    if (switchInstructions) switchInstructions.classList.remove('active');
                } else if (view === 'instructions') {
                    main.classList.add('info-visible');
                    main.classList.remove('sidebar-visible');
                    if (switchInstructions) switchInstructions.classList.add('active');
                    if (switchButtons) switchButtons.classList.remove('active');
                }
            } else {
                // –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ: —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–ª–∞—Å—Å—ã, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –æ–±–∞ –±–ª–æ–∫–∞
                main.classList.remove('sidebar-visible', 'info-visible');
                // –°–Ω—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π
                if (switchButtons) switchButtons.classList.remove('active');
                if (switchInstructions) switchInstructions.classList.remove('active');
            }
        }

        // =================================================================================== 
        // DYNAMIC CONTENT & EVENT LISTENERS 
        // =================================================================================== 
        
        // –§—É–Ω–∫—Ü–∏–∏-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ EN –∏ RU)
        function copyGreetingENG() { copyAndCycle('en', 'greetings', 'btn-greeting-en'); }
        function copyJobENG() { copyAndCycle('en', 'jobDescriptions', 'btn-job-en'); }
        function copyFlirtENG() { copyAndCycle('en', 'flirtClosings', 'btn-flirt-en'); }
        function copyContactENG() { copyAndCycle('en', 'contacts', 'btn-contact-en'); }

        function copyGreetingRU() { copyAndCycle('ru', 'greetings', 'btn-greeting-ru'); }
        function copyJobRU() { copyAndCycle('ru', 'jobDescriptions', 'btn-job-ru'); }
        function copyJobPrimeRU() { copyAndCycle('ru', 'jobDescriptionsPrime', 'btn-jobprime-ru'); }
        function copyFlirtRU() { copyAndCycle('ru', 'flirtClosings', 'btn-flirt-ru'); }
        function copyContactRU() { copyAndCycle('ru', 'contacts', 'btn-contact-ru'); }
        
        // UK —Ñ—É–Ω–∫—Ü–∏–∏-–∑–∞–≥–ª—É—à–∫–∏
        function copyGreetingUK() { copyAndCycle('uk', 'greetings', 'btn-greeting-uk'); }
        function copyJobUK() { copyAndCycle('uk', 'jobDescriptions', 'btn-job-uk'); }
        function copyJobPrimeUK() { copyAndCycle('uk', 'jobDescriptionsPrime', 'btn-jobprime-uk'); }
        function copyFlirtUK() { copyAndCycle('uk', 'flirtClosings', 'btn-flirt-uk'); }
        function copyContactUK() { copyAndCycle('uk', 'contacts', 'btn-contact-uk'); }
        
        window.addEventListener('resize', () => {
             const main = document.querySelector('main');
             const activeView = main.classList.contains('info-visible') ? 'instructions' : 'buttons';
             toggleMobileView(activeView);
        });
        

        document.addEventListener('DOMContentLoaded', () => { 
            const loggedIn = checkLogin(); 
            document.getElementById('login-form').addEventListener('submit', handleLogin); 
            document.getElementById('searchInput').addEventListener('input', handleSearch); 
            
            const initialLang = getInitialLanguage(); 
            switchLanguage(initialLang); 

            if (loggedIn) { 
                toggleMobileView('buttons'); 
                setupDarkMode(); 
                renderFavorites(); 
            } else {
                document.getElementById('login-screen').style.display = 'flex';
            }
        }); 

    </script> 
</body> 
</html>
